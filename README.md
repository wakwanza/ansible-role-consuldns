consuldns
=========

The role sets up the consul servers for SOA in a datacenter.Minimum of 3 servers recommended to achieve HA.
Additionally installs the consul web UI on the server nodes and starts it.The monitoring of the consul program is handled by the supervisor process management tool.dnsmasq is utilised as the local resolving agent  for the .consul queries.

Requirements
------------

Local ansible host system must have consul installed , to be able to generate the hash key that will be used to set up the servers.The resulting key can also be saved locally to allow resuse whene configuring the client systems.

The consul binaries should be downloaded and placed in the files/bin directory on the ansible host.

Role Variables
--------------

|                 |                                                    |
| ----------------|:--------------------------------------------------:|
| `location`      | Location/name of the data center                             |
| `nodes_num`    | Number of consul nodes that will be servers    |
| `consul_hash`    | Hash key autogenerated on local host and copied into remote servers                     |
| `consul.local_binary`    | Location of the local zip containing consul            |
| `consul.local_webgui`    | Location of the local zip containing consul_web ui            |
| `hash_location_local:`    | Location of the local file containing the generated hash            |

Dependencies
------------

None.

Example Playbook
----------------

    - hosts: servers
      roles:
         - { role: wakwanza.ansible-role-consuldns, location: 'US' , nodes_num: 3 }

License
-------

BSD

Author Information
------------------

wakwanza.
